<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Post-it ‡∏ö‡∏≠‡∏Å‡∏£‡∏±‡∏Å‡∏á‡πâ‡∏≠‡πÅ‡∏ü‡∏ô</title>
  <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@400;700&display=swap" rel="stylesheet">
  <!doctype html>
  <html lang="th">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏õ‡∏™‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏ö‡∏≠‡∏Å‡∏£‡∏±‡∏Å/‡∏á‡πâ‡∏≠‡πÅ‡∏ü‡∏ô</title>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@400;700&display=swap" rel="stylesheet">
    <style>
      :root {
        --bg: #f8f8f8;
        --card1: linear-gradient(135deg,#fffbe7 60%,#ffd6e0 100%);
        --card2: linear-gradient(135deg,#e0f7fa 60%,#d1c4e9 100%);
        --card3: linear-gradient(135deg,#fffde4 60%,#d3f9d8 100%);
        --muted: #6b7280;
        --accent: #ff6b6b;
      }
      html,body { height:100%; margin:0; font-family:Kanit,system-ui,sans-serif; background:var(--bg); }
      body { min-height:100vh; }
      .container { max-width:700px; margin:0 auto; padding:24px; }
      header { text-align:center; margin-bottom:18px; }
      h1 { font-size:2rem; margin:0; }
      p.lead { color:var(--muted); margin:8px 0 0; }

      .form-card { background:white; border-radius:16px; box-shadow:0 8px 32px rgba(0,0,0,0.08); padding:22px; margin-bottom:18px; }
      .form-row { display:flex; flex-wrap:wrap; gap:12px; margin-bottom:12px; }
      .form-row label { font-weight:600; margin-bottom:4px; }
      .form-row input, .form-row textarea, .form-row select {
        font-size:1rem; padding:10px; border-radius:8px; border:1px solid #eee; font-family:inherit; width:100%;
      }
      .form-row textarea { resize:vertical; min-height:60px; }
      .form-row select { max-width:180px; }
      .btn { background:var(--accent); color:white; border:none; border-radius:8px; padding:10px 18px; font-weight:700; cursor:pointer; margin-top:8px; }

      .preview-wrap { display:flex; justify-content:center; align-items:center; margin-bottom:18px; }
      .postcard {
        width:380px; height:240px; border-radius:18px; box-shadow:0 8px 32px rgba(0,0,0,0.10);
        display:flex; flex-direction:column; justify-content:center; align-items:center;
        padding:28px 22px; position:relative; background:var(--card1);
        transition:background .3s;
      }
      .postcard.theme1 { background:var(--card1); }
      .postcard.theme2 { background:var(--card2); }
      .postcard.theme3 { background:var(--card3); }
      .postcard .icon { font-size:2.2rem; margin-bottom:10px; }
      .postcard .msg { font-size:1.18rem; text-align:center; margin-bottom:10px; white-space:pre-line; color:#222; }
      .postcard .from { font-size:1.05rem; color:var(--muted); margin-top:10px; }
      .postcard .border { position:absolute; inset:0; border:2.5px dashed #ffd6e0; border-radius:18px; pointer-events:none; }

      @media (max-width:500px) {
        .container { padding:6px; }
        .postcard { width:98vw; height:180px; padding:12px 4vw; }
      }
      footer { text-align:center; color:var(--muted); margin-top:28px; font-size:0.95rem; }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
  </head>
  <body>
    <div class="container">
      <header>
        <h1>‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏õ‡∏™‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏ö‡∏≠‡∏Å‡∏£‡∏±‡∏Å/‡∏á‡πâ‡∏≠‡πÅ‡∏ü‡∏ô</h1>
        <p class="lead">‡πÉ‡∏™‡πà‡∏Ñ‡∏≥‡∏û‡∏π‡∏î ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ò‡∏µ‡∏° ‡πÅ‡∏•‡πâ‡∏ß‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏õ‡πá‡∏ô JPEG card ‡∏™‡∏ß‡∏¢‡πÜ ‡∏™‡πà‡∏á‡πÉ‡∏´‡πâ‡πÅ‡∏ü‡∏ô‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ</p>
      </header>

      <div class="form-card">
        <form id="cardForm" autocomplete="off" onsubmit="event.preventDefault();updatePreview();">
          <div class="form-row">
            <label for="cardMsg">‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ö‡∏ô‡πÇ‡∏õ‡∏™‡∏Å‡∏≤‡∏£‡πå‡∏î</label>
            <textarea id="cardMsg" placeholder="‡πÉ‡∏™‡πà‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å ‡∏Ç‡∏≠‡πÇ‡∏ó‡∏© ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏´‡πâ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÉ‡∏à‡πÅ‡∏ü‡∏ô" rows="3">‡∏Ç‡∏≠‡πÇ‡∏ó‡∏©‡∏ô‡∏∞‡∏Ñ‡∏∞ ‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏™‡∏µ‡∏¢‡πÉ‡∏à ‡∏û‡∏µ‡πà‡∏£‡∏±‡∏Å‡πÅ‡∏•‡∏∞‡∏≠‡∏¢‡∏≤‡∏Å‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç ‡πÄ‡∏£‡∏≤‡∏°‡∏≤‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ô‡πÑ‡∏î‡πâ‡πÑ‡∏´‡∏°?</textarea>
          </div>
          <div class="form-row">
            <label for="cardFrom">‡∏•‡∏á‡∏ä‡∏∑‡πà‡∏≠ (‡∏à‡∏≤‡∏Å‡πÉ‡∏Ñ‡∏£)</label>
            <input id="cardFrom" type="text" placeholder="‡∏à‡∏≤‡∏Å‡πÉ‡∏à‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô" value="‡∏à‡∏≤‡∏Å‡πÉ‡∏à‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô" />
          </div>
          <div class="form-row">
            <label for="cardTheme">‡∏ò‡∏µ‡∏°‡πÇ‡∏õ‡∏™‡∏Å‡∏≤‡∏£‡πå‡∏î</label>
            <select id="cardTheme">
              <option value="theme1">‡∏´‡∏ß‡∏≤‡∏ô‡∏™‡∏î‡πÉ‡∏™</option>
              <option value="theme2">‡∏ü‡πâ‡∏≤-‡∏°‡πà‡∏ß‡∏á‡∏≠‡∏ö‡∏≠‡∏∏‡πà‡∏ô</option>
              <option value="theme3">‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß-‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á‡∏™‡∏î‡∏ä‡∏∑‡πà‡∏ô</option>
            </select>
          </div>
          <button class="btn" type="submit">‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á</button>
        </form>
      </div>

      <div class="preview-wrap">
        <div class="postcard theme1" id="postcardPreview">
          <div class="border"></div>
          <div class="icon">üíå</div>
          <div class="msg" id="previewMsg">‡∏Ç‡∏≠‡πÇ‡∏ó‡∏©‡∏ô‡∏∞‡∏Ñ‡∏∞ ‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏™‡∏µ‡∏¢‡πÉ‡∏à ‡∏û‡∏µ‡πà‡∏£‡∏±‡∏Å‡πÅ‡∏•‡∏∞‡∏≠‡∏¢‡∏≤‡∏Å‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç ‡πÄ‡∏£‡∏≤‡∏°‡∏≤‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ô‡πÑ‡∏î‡πâ‡πÑ‡∏´‡∏°?</div>
          <div class="from" id="previewFrom">‡∏à‡∏≤‡∏Å‡πÉ‡∏à‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô</div>
        </div>
      </div>
      <div style="text-align:center">
        <button class="btn" onclick="downloadCardAsImage()">‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏õ‡πá‡∏ô JPEG card</button>
      </div>

      <footer>‡πÇ‡∏õ‡∏™‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏ô‡∏µ‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÉ‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô (‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏≠‡∏Å)</footer>
    </div>

    <script>
      function updatePreview() {
        const msg = document.getElementById('cardMsg').value.trim();
        const from = document.getElementById('cardFrom').value.trim();
        const theme = document.getElementById('cardTheme').value;
        document.getElementById('previewMsg').textContent = msg || '';
        document.getElementById('previewFrom').textContent = from || '';
        const card = document.getElementById('postcardPreview');
        card.className = 'postcard ' + theme;
      }
      // update preview on input
      document.getElementById('cardMsg').addEventListener('input', updatePreview);
      document.getElementById('cardFrom').addEventListener('input', updatePreview);
      document.getElementById('cardTheme').addEventListener('change', updatePreview);

      // Download as JPEG
      window.downloadCardAsImage = function() {
        const card = document.getElementById('postcardPreview');
        html2canvas(card, {backgroundColor: null, scale:2}).then(function(canvas) {
          const link = document.createElement('a');
          link.download = 'postcard.jpg';
          link.href = canvas.toDataURL('image/jpeg', 0.95);
          link.click();
        });
      };

      // Initial preview
      updatePreview();
    </script>
  </body>
  </html>
    document.getElementById('board').addEventListener('dragover', function(e) {
      e.preventDefault();
    });
    document.getElementById('board').addEventListener('drop', function(e) {
      e.preventDefault();
      const id = e.dataTransfer.getData('text/plain');
      const boardRect = this.getBoundingClientRect();
      const x = e.clientX - boardRect.left - 90;
      const y = e.clientY - boardRect.top - 20;
      const note = notes.find(n => n.id === id);
      if (note) {
        note.x = Math.max(0, Math.min(x, this.offsetWidth - 180));
        note.y = Math.max(0, Math.min(y, this.offsetHeight - 120));
        note.z = ++zIndex;
        renderNotes();
      }
    });

    // Delete note
    function deleteNote(id) {
      notes = notes.filter(n => n.id !== id);
      renderNotes();
    }

    // Responsive: re-randomize positions if window resized (optional)
    window.addEventListener('resize', function() {
      for (const note of notes) {
        note.x = Math.max(0, Math.min(note.x, document.getElementById('board').offsetWidth - 180));
        note.y = Math.max(0, Math.min(note.y, document.getElementById('board').offsetHeight - 120));
      }
      renderNotes();
    });

    // Initial render
    renderNotes();
  </script>
</body>
</html>
